Hola Grok, necesito de todo tu buen hacer como IA para que me ayudes en un proyecto prepardo?

Te explico a grandes rasgos antes de pasarte archivos en detalle.

Tengo un BaaS (backend as a service) en producción, se trata de un stack formado formado por una
api com backend junto a un frontend como dashboard para gestionar la api asi como un sitio web del producto.

Esta dando buenos resultados, su nombre en clave en esta fase es Neptuno.

En los proximos dias se acerca una feria importante del sector y quiero sacar una nueva versión
algunas mejoras sobre el codigo fuente que esta implantando en producción.

Recuerda siempre que Necesito tu mejor perfil de programador full stack FASTApi, Python, NextJS y SQLAlchemy con fuertes
nociones de diseño front UX/AI. Estoy seguro que eres capaz :D

Primero te introduciré en la herramienta con unos copys de marketing para que
veas lo que "vendemos" y despues ya te pasaré la información relevante sobre la arquitectura
del backend y del frontend para que lo entiendas y retengas para que pueda 
hacer los cambios requeridos.

NO te preocupes te repartiré la información en varias partes:

Parte 1: Introducción y configuración del enterno
Parte 2: api, schemas, modelos, etc
Parte 3: fronted: nextjs, dashboards, interfaces

Preparado? Empezamos!!

Parte 1: Introducción y configuración del enterno

Aqui tienes algunos de los copys de este producto que esta en marcha:


Brief el producto:
Neptuno es un starter kit full-stack diseñado para acelerar el desarrollo de campañas de marketing, landing pages y SaaS, con un enfoque en gamificación, monetización y la gestión del recorrido del usuario desde el anonimato hasta la conversión. Me has compartido una visión general del producto a través de los copys de marketing y los detalles técnicos de su configuración inicial. Aquí está lo que he captado hasta ahora:

Propósito del producto

    Marketing y gamificación: Ofrece herramientas como puntos, créditos, badges, niveles y desafíos para enganchar a los usuarios y convertir leads en clientes.
    Monetización: Incluye suscripciones, pasarelas de pago y modelos freemium listos para usar.
    Flexibilidad: Es modular e integrable con cualquier frontend (React, Angular, Vue, Next.js, etc.) y ampliable con librerías adicionales en FastAPI.

Stack tecnológico

    Backend: Desarrollado en Python con FastAPI y OpenAPI, ofreciendo una API RESTful robusta y documentada.
    Frontend: Implementado en Next.js, optimizado para SEO y rendimiento, con dashboards para gestionar la API y un sitio web del producto.
    Base de datos: Usa MariaDB (con opciones de réplicas para alta demanda).
    Infraestructura: Dockerizada, con contenedores para backend, frontend y base de datos, gestionados por un proxy Nginx para la comunicación y balanceo de carga.

Copywrite:

🚀 Neptuno: El Starter Kit Full-Stack para Marketing, Gamificación y Monetización

Preconfigurado con backend en Python y frontend en Next.js. Gratis, solo pagas por soporte, desarrollo a medida o consultoría.
🔥 Lanza tu aplicación en minutos con una API lista para producción

Neptuno es un starter kit full-stack diseñado para acelerar el desarrollo de campañas, landing pages y SaaS con autenticación, gamificación y pagos integrados.

Olvídate de construir desde cero: Neptuno te proporciona toda la infraestructura necesaria para seguir el recorrido del usuario desde el anonimato hasta la conversión.

✔️ Backend robusto en Python con FastAPI y OpenAPI
✔️ Frontend Next.js optimizado para SEO y rendimiento
✔️ Autenticación avanzada (OAuth2, JWT, roles y permisos)
✔️ Gamificación integrada (score, créditos, badges, niveles)
✔️ Pagos y monetización (suscripciones, pasarelas de pago, modelos freemium)
✔️ Gestión de usuarios y leads con tracking y automatización
🔗 100% modular e integrable con cualquier stack

Neptuno está diseñado para funcionar con cualquier frontend y expandirse según las necesidades de tu negocio:

🔹 Usa el frontend Next.js incluido o conéctalo a React, Angular, Vue o cualquier otro framework
🔹 API documentada en OpenAPI con compatibilidad para REST y GraphQL
🔹 Extiende el backend con FastAPI y otras librerías Python
🔹 Webhooks y eventos para integraciones con CRM, automatización y analytics
📡 Casos de uso ideales
🎮 Campañas con gamificación y recompensas

✔️ Atribuye puntos, créditos y badges en cada interacción
✔️ Define niveles, incentivos y desafíos personalizados
✔️ Automatiza la conversión de leads con triggers dinámicos
📈 Landing pages y micrositios con autenticación y pagos

✔️ Usuarios gestionados con OAuth2, JWT y roles avanzados
✔️ Monetización lista para usar con suscripciones y pasarelas de pago
✔️ Infraestructura optimizada para campañas de alto tráfico
💻 SaaS con lógica de negocio lista para escalar

✔️ Control total sobre usuarios, permisos y gestión de pagos
✔️ Integración con herramientas de marketing y CRM vía API
✔️ Modular y extensible para adaptarse a cualquier modelo de negocio
💰 Gratis. Solo pagas por lo que necesitas.

Neptuno es 100% gratuito. Solo pagas si necesitas:

💡 Soporte técnico premium para optimizar tu implementación
⚡ Desarrollo a medida para adaptar Neptuno a tu stack
📊 Consultoría estratégica para mejorar la conversión y retención de usuarios
🚀 Deja de perder tiempo en infraestructura y concéntrate en crecer

Neptuno te da un backend sólido y un frontend potente desde el día uno, listo para escalar tu negocio.

🔗 Descárgalo gratis y conecta tu frontend en minutos.


## 🔥 1. **Narrativa para Developers Pragmáticos**
> **"Lanza tu SaaS con lógica real de negocio, sin perder tiempo en reinventar la rueda."**

- ¿Cuántas veces has empezado un side project y te has perdido entre configurar auth, pagos, base de datos y gestión de usuarios?
- Neptuno te da una base sólida con **autenticación, gamificación, monetización y APIs listas para producción**, desde el minuto uno.
- Está construido con tecnologías modernas como **FastAPI + Next.js**, es **modular**, **autoalojable** y 100% tuyo.
- ¿Frontend con React, Vue, Svelte o Angular? Conéctalo como quieras. Tú decides.

👉 _Es tu backend, tus reglas. Pero esta vez, sin drama._

---

## 🚀 2. **Narrativa de Velocidad & Time to Market**
> **"Tu MVP en días, no meses. Sin depender de terceros."**

- Neptuno no es solo una API. Es un **starter kit full-stack** con toda la lógica necesaria para lanzar un SaaS completo o una campaña gamificada en tiempo récord.
- Autenticación avanzada, pagos, roles, niveles, retos, dashboards, webhooks… todo lo que normalmente te lleva semanas, ya está listo.
- Solo añade tu lógica de negocio y tu UI. El resto ya está hecho.

👉 _Ideal para hackathons, validaciones de negocio o productos que necesitan tracción **ya**._

---

## 🧠 3. **Narrativa para Equipos de Marketing & Growth**
> **"Diseñado para convertir. Desde el primer clic hasta el pago."**

- Neptuno gestiona todo el **recorrido del usuario**: del anonimato a la conversión, con herramientas de gamificación y monetización integradas.
- Configura retos, badges, niveles, puntos y recompensas en minutos. Automatiza triggers que convierten interacciones en ventas.
- Y todo con API documentada, dashboard personalizable y analítica lista para integrar con tu CRM.

👉 _Convierte tráfico en usuarios, y usuarios en clientes. Así de simple._

---

## 🎮 4. **Narrativa para productos gamificados**
> **"¿Gamificación real sin montarte tu propio RPG backend? Aquí lo tienes."**

- Dale a tu app el toque que la hace adictiva: **niveles, recompensas, logros, puntos, créditos y desafíos personalizados**.
- Olvídate de reinventar el sistema de progresión o los engines de logros. Neptuno ya lo tiene hecho por ti.
- 100% extensible y combinable con cualquier stack frontend.

👉 _Convierte tu producto en una experiencia._

---

## 🧩 5. **Narrativa tipo open-source builder**
> **"Un starter kit para construir como quieras. Sin límites ni vendor lock-in."**

- Neptuno no es una caja cerrada. Es un proyecto open source que puedes extender, adaptar o romper según tus necesidades.
- ¿Quieres usar MariaDB o PostgreSQL? ¿Backend Python o añadir Node? ¿Cambiar Next.js por SvelteKit? Adelante.
- Todo corre en contenedores Docker y se integra con cualquier stack moderno.

👉 _Construye como un pro, sin depender de terceros._

---

## 🛠️ 6. **Narrativa para consultoras y freelancers**
> **"Lanza SaaS para clientes en tiempo récord (y sin que te explote la cabeza)."**

- Ahorra semanas de desarrollo básico en cada proyecto. Neptuno incluye todo lo esencial que tus clientes necesitan para apps con auth, pagos, CRM y más.
- Con un par de personalizaciones y diseño encima, puedes entregar MVPs o productos comerciales sin hacer malabares técnicos.
- Soporte de pago disponible si te atascas o necesitas adaptarlo.

👉 _Más proyectos entregados. Menos estrés técnico._

---

## 🪄 7. **Narrativa corta para redes sociales**
> 💥 ¿Gamificación, auth, pagos y roles listos en tu SaaS en minutos?  
> 📦 Con Neptuno, solo construyes lo que importa: tu producto.  
> 🧩 Backend FastAPI + Frontend Next.js + Docker  
> 🔗 Gratis. Extensible. Modular.  

---

---

## 🚀 Narrativa: **Velocidad & Time to Market**  
> _"Tu MVP en días, no meses. Sin depender de terceros."_

### 💡 El tiempo es tu recurso más valioso  
En un mercado donde la velocidad lo es todo, **Neptuno** te permite lanzar en **horas, no semanas**. Ya sea un SaaS, una campaña con gamificación o un micrositio con monetización, lo tienes todo preconfigurado y listo para producción.

---

### ⚙️ Todo lo esencial ya está hecho  
**Sin boilerplate. Sin integraciones interminables. Sin configuraciones agobiantes.**

✅ Autenticación avanzada con OAuth2, JWT, roles y permisos  
✅ Monetización con suscripciones, pasarelas de pago y modelos freemium  
✅ Gestión de usuarios y leads  
✅ Lógica de gamificación lista para usar: puntos, badges, niveles, desafíos  
✅ Backend en FastAPI + Frontend en Next.js  
✅ Base de datos con MariaDB y arquitectura Docker lista para escalar

---

### 🧪 Ideal para:
- Validar ideas de negocio rápidamente  
- Lanzar MVPs funcionales con lógica real de negocio  
- Hackathons, proyectos internos o prototipos avanzados  
- Freelancers y consultoras que quieren entregar más con menos  

---

### ⚡ Ejemplo real:  
```ts
// Asigna puntos al usuario al completar una acción
await sdk.gamification.rewardUser({
  userId: "abc123",
  points: 50,
  badge: "early-adopter"
});

// Activa una suscripción premium en segundos
await sdk.payments.activatePlan({
  userId: "abc123",
  planId: "pro-monthly"
});
```

👉 _Conecta tu frontend, y lo tienes online. No hay pasos intermedios. Solo foco._

---

## 🧠 Narrativa: **Para Equipos de Marketing & Growth**  
> _"Diseñado para convertir. Desde el primer clic hasta el pago."_

### 🎯 Convierte usuarios anónimos en clientes fieles  
**Neptuno** no es solo backend. Es una plataforma pensada para ayudarte a optimizar el **recorrido completo del usuario**:

📍 Desde el primer clic en tu campaña  
🏃‍♂️ Hasta la conversión, la suscripción o la compra  
🏆 Y más allá, fidelizándolos con gamificación inteligente

---

### 🧰 Tu kit de herramientas para crecimiento rápido  
✅ Gamificación integrada: puntos, retos, badges, niveles  
✅ Automatización de triggers para activar recompensas y upgrades  
✅ Dashboard con analítica e integración CRM-ready  
✅ Autenticación y tracking sin depender de herramientas externas  
✅ Webhooks y eventos para marketing automation  

---

### 🧪 ¿Qué puedes hacer?

- Lanzar **micrositios** con autenticación y recompensas por acciones  
- Ejecutar **campañas virales** con niveles y retos compartibles  
- Usar badges y puntos para **gamificar el onboarding**  
- Automatizar upgrades de cuenta al completar tareas clave  
- Trackear usuarios de forma **completa**, sin herramientas extra

---

### ⚡ Ejemplo real:
```ts
// Trigger dinámico para upgrade de plan si el usuario completa 3 retos
if (await sdk.gamification.getCompletedChallenges(userId) >= 3) {
  await sdk.payments.upgradeUser(userId, "premium");
}
```

👉 _Neptuno está pensado para growth hackers, marketers y equipos que miden resultados. No para perderse en código._

---

---

## 🎮 Narrativa: **Para Productos Gamificados**  
> _"Diseñado para enganchar. Construido para convertir."_  
> Convierte cada interacción en una oportunidad de retención y cada reto en una vía de monetización.

### 🌟 Dale superpoderes a tu app desde el día uno  
Con Neptuno puedes lanzar productos con gamificación avanzada **sin reinventar la rueda**. En vez de gastar meses en construir lógica de puntos, retos, niveles y recompensas, lo tienes todo **listo, modular y ampliable**.

---

### 🎁 Funciones pensadas para el engagement:
✅ Recompensas dinámicas: puntos, créditos, badges, objetos virtuales  
✅ Retos y misiones configurables desde la API  
✅ Niveles, rankings y progresión para fidelizar  
✅ Triggers y eventos personalizables para automatizar la experiencia  
✅ Integración con sistemas de pagos para monetizar los logros  

---

### 💥 Crea experiencias como:
- Apps de aprendizaje con XP y progresión por módulos  
- Plataformas de salud/fitness con retos semanales y logros  
- Comunidades que premian la participación y aportes  
- SaaS que convierten el onboarding en un juego  
- Programas de fidelización con puntos canjeables  

---

### 🧪 Ejemplo real:
```ts
// Crea un reto semanal personalizado
await sdk.gamification.createChallenge({
  title: "Comparte en redes",
  points: 100,
  repeatable: false,
  trigger: "social-share"
});

// Subir de nivel automáticamente
await sdk.gamification.levelUp(userId);
```

👉 _Engancha como un juego. Vende como un negocio._

---

## 🧭 Narrativa: **Para Product Managers y COO**  
> _"Una infraestructura estratégica para lanzar, escalar y evolucionar productos digitales."_  
> Menos dependencia de ingeniería. Más foco en el roadmap y el crecimiento.

---

### 🔍 Visibilidad total. Control absoluto.  
Neptuno te ofrece un **starter kit full-stack**, con todas las capas clave del producto ya resueltas:

✅ Backend robusto y extensible en FastAPI  
✅ Frontend modular en Next.js (opcional)  
✅ API documentada y lista para conectar con cualquier sistema  
✅ Gestión de usuarios, permisos y flujos de pago  
✅ Lógica de negocio reutilizable: gamificación, triggers, monetización  

---

### 🏗️ Ideal para:
- Validar hipótesis de producto sin comprometer calidad  
- Acelerar lanzamientos sin reinventar la infraestructura  
- Escalar sin fricciones: Docker, MariaDB, API modular  
- Coordinar producto, diseño, marketing y desarrollo en el mismo entorno  
- Medir resultados desde el día uno, con eventos y webhooks listos

---

### 💼 ¿Por qué te conviene?

- Menos ciclos de desarrollo = más entregas por sprint  
- Los equipos de marketing y growth pueden avanzar sin bloqueos  
- Fácil integración con tu stack actual o herramientas de terceros  
- La lógica del negocio ya está encapsulada y lista para usar  

---

### ⚡ Ejemplo real:
```ts
// Crear un nuevo modelo freemium con upgrade automático
await sdk.payments.createPlan({
  name: "Pro",
  price: 19.99,
  features: ["analytics", "priority-support"],
  upgradeTrigger: "completed-onboarding"
});
```

👉 _Desde el backlog hasta producción. Sin perder tiempo. Sin perder foco._


Neptuno

es tu framework de marketing con autentificación (incluye oauth2), usuarios, subscripciones, medios de pago, creditos, roles,
etc etc y todo lo que necesitas para seguir a tu lead desde que es anonimo hasta que convierte

Conectalo a tu front favorito (react,angular), amplia con mas librerias fastapi, graphql usamos openapi

utilizado en campañas, landing, microsites
===

Neptuno ya es un producto sólido: un stack de marketing listo para producción que cubre todo el funnel de ventas, desde captar leads (usuarios anónimos) hasta convertirlos en clientes, usando herramientas como puntos, créditos, insignias y rankings. Técnicamente, con FastAPI, OpenAPI, Docker, servidores balanceados, réplicas de la base de datos y un proxy Nginx, hemos creado algo que "vuela" y que puede escalar. El SDK y el dashboard premium son la cereza del pastel, facilitando la vida a los desarrolladores y usuarios. 

Neptuno es un stack de marketing listo para producción que cubre todo el funnel de ventas, desde captar leads (usuarios anónimos) hasta convertirlos en clientes, usando herramientas como puntos, créditos, insignias y rankings. Técnicamente, con FastAPI, OpenAPI, Docker, servidores balanceados, réplicas de la base de datos y un proxy Nginx, hemos creado algo que "vuela" y que puede escalar. El SDK y el dashboard premium son la cereza del pastel, facilitando la vida a los desarrolladores y usuarios.

===

DEPLOY YOUR MVP IN MINUTES
MAKE YOUR DREAM IN A WEEK
(intentalo las veces que necesites)

🚀 Neptuno: El Stack de Marketing que Necesitas
===

Neptuno es el stack mas completo para marketing, gamificacion y monetizacion
Neptuno es un starter kit full-stack diseñado para acelerar el desarrollo de campañas, landing pages y SaaS con autenticación, gamificación y pagos integrados.
Olvídate de construir desde cero: Neptuno te proporciona toda la infraestructura necesaria para seguir el recorrido del usuario desde el anonimato hasta la conversión.
Conectalo a tu frontend favorito (React, Angular, Vue, Svelte, Next.js) y expande su funcionalidad con librerías adicionales en FastAPI. 

Neptuno es un boilerplate backend listo para producción, diseñado para campañas, landing pages y micrositios. Conéctalo a cualquier frontend y gestiona el ciclo de vida del usuario desde el anonimato hasta la conversión.


✔️ Backend robusto en Python con FastAPI y OpenAPI
✔️ Autenticación y gestión de usuarios (OAuth2, JWT, roles y permisos avanzados)
✔️ Autenticación avanzada (OAuth2, JWT, roles y permisos)
✔️ Gamificación nativa (score, créditos, badges, niveles, desafíos)
✔️ Frontend Next.js optimizado para SEO y rendimiento
✔️ Gamificación integrada (score, créditos, badges, niveles)


LISTO PARA PRODUCCION
- Autenticacion y gestion de usuarios (oauth2, jwt, roles y permisos avanzados)
- Balanceo y escalabilidad (docker, nginx, gunicorn)
. SSL y seguridad (https, cors, csrf)

LISTO PARA DESARROLLO
- API RESTful basada en FastAPI (documentada en OpenAPI)
- Soporte para GraphQL y ampliable con más librerías
- Arquitectura modular y escalable
- Integración con cualquier frontend (React, Angular, Vue, Svelte, Next.js)
- Webhooks y eventos para conectar con cualquier sistema externo
- Integración con herramientas de marketing y CRM

LISTO PARA EXTRAER
- Usuario anonimo (lead) hasta cliente
- Tracking y automatizacion (segmentacion, triggers de conversion)
- Gamificacion nativa (score, creditos, badges, niveles, desafios)

LISTO PARA MONETIZAR
- Formas de pago, transacciones, suscripciones, modelos freemium




- Journey desde anonimos

curl -s -X GET 127.0.0.1:8000/whoami | jq
{
  "session_id": "441a7d2b-ba3d-4308-8b63-e827a8028698",
  "user_id": "441a7d2b-ba3d-4308-8b63-e827a8028698",
  "email": "anonymous@example.com",
  "username": "anonymous",
  "user_type": "anonymous",
  "subscription": "basic",
  "credits": 100,
  "rol": "anonymous"
}


- Seguridad desde el inicio

curl -X POST 127.0.0.1:8000/v1/auth/token -d 'grant_type=password&username=admin%40example.com&password=admin123'

- Preparado para balancear y escalar en segundos

upstream nextjs_backend {
    least_conn; # Usa el servidor con menos conexiones
    server 127.0.0.1:3000;
    server 127.0.0.1:3001; # Añade más instancias cuando escales
}


services:
  fastapi:
    build: ./backend
    deploy:
      replicas: 2 # 2 instancias por defecto
    ports:
      - "8000-8001:8000" # Rango para múltiples instancias
    restart: unless-stopped
    depends_on:
      - mariadb


🚀 Neptuno: El Starter Kit Full-Stack para Marketing, Gamificación y Monetización

Preconfigurado con backend en Python y frontend en Next.js. Gratis, solo pagas por soporte, desarrollo a medida o consultoría.
🔥 Lanza tu aplicación en minutos con una API lista para producción

Neptuno es un starter kit full-stack diseñado para acelerar el desarrollo de campañas, landing pages y SaaS con autenticación, gamificación y pagos integrados.

Olvídate de construir desde cero: Neptuno te proporciona toda la infraestructura necesaria para seguir el recorrido del usuario desde el anonimato hasta la conversión.

✔️ Backend robusto en Python con FastAPI y OpenAPI
✔️ Frontend Next.js optimizado para SEO y rendimiento
✔️ Autenticación avanzada (OAuth2, JWT, roles y permisos)
✔️ Gamificación integrada (score, créditos, badges, niveles)
✔️ Pagos y monetización (suscripciones, pasarelas de pago, modelos freemium)
✔️ Gestión de usuarios y leads con tracking y automatización
🔗 100% modular e integrable con cualquier stack

Neptuno está diseñado para funcionar con cualquier frontend y expandirse según las necesidades de tu negocio:

🔹 Usa el frontend Next.js incluido o conéctalo a React, Angular, Vue o cualquier otro framework
🔹 API documentada en OpenAPI con compatibilidad para REST y GraphQL
🔹 Extiende el backend con FastAPI y otras librerías Python
🔹 Webhooks y eventos para integraciones con CRM, automatización y analytics
📡 Casos de uso ideales
🎮 Campañas con gamificación y recompensas

✔️ Atribuye puntos, créditos y badges en cada interacción
✔️ Define niveles, incentivos y desafíos personalizados
✔️ Automatiza la conversión de leads con triggers dinámicos
📈 Landing pages y micrositios con autenticación y pagos

✔️ Usuarios gestionados con OAuth2, JWT y roles avanzados
✔️ Monetización lista para usar con suscripciones y pasarelas de pago
✔️ Infraestructura optimizada para campañas de alto tráfico
💻 SaaS con lógica de negocio lista para escalar

✔️ Control total sobre usuarios, permisos y gestión de pagos
✔️ Integración con herramientas de marketing y CRM vía API
✔️ Modular y extensible para adaptarse a cualquier modelo de negocio
💰 Gratis. Solo pagas por lo que necesitas.

Neptuno es 100% gratuito. Solo pagas si necesitas:

💡 Soporte técnico premium para optimizar tu implementación
⚡ Desarrollo a medida para adaptar Neptuno a tu stack
📊 Consultoría estratégica para mejorar la conversión y retención de usuarios
🚀 Deja de perder tiempo en infraestructura y concéntrate en crecer

Neptuno te da un backend sólido y un frontend potente desde el día uno, listo para escalar tu negocio.

🔗 Descárgalo gratis y conecta tu frontend en minutos.

=========================================================


🚀 Neptuno: La API que Potencia Tu Marketing con Gamificación y Monetización

Framework backend gratuito para autenticación, scoring, pagos y más. Solo pagas por soporte o desarrollo a medida.
🔥 Levanta una API en minutos y controla toda la experiencia del usuario

Neptuno es un boilerplate backend listo para producción, diseñado para campañas, landing pages y micrositios. Conéctalo a cualquier frontend y gestiona el ciclo de vida del usuario desde el anonimato hasta la conversión.

✅ Autenticación y gestión de usuarios (OAuth2, roles, permisos)
✅ Gamificación nativa (score, créditos, badges, niveles)
✅ Monetización integrada (pagos, suscripciones, modelos freemium)
✅ API flexible y escalable (FastAPI, OpenAPI, GraphQL-ready)
🔗 100% integrable con tu stack

Neptuno funciona con cualquier frontend moderno (React, Angular, Vue) y puede ampliarse con librerías adicionales en FastAPI. Su API RESTful documentada en OpenAPI te permite conectar fácilmente nuevas funciones o servicios externos.

📡 Casos de uso:
🔹 Campañas de marketing con incentivos y recompensas
🔹 Micrositios con autenticación y monetización lista para usar
🔹 Aplicaciones SaaS que necesitan control de usuarios, créditos y pagos
💰 Gratis. Solo pagas por lo que necesitas.

Neptuno es 100% gratuito. Solo pagas si requieres:
💡 Soporte técnico premium
⚡ Desarrollo a medida
📊 Consultoría en integración y estrategia

Empieza ahora y acelera el crecimiento de tu negocio sin reinventar la rueda. 🚀

👉 Descarga Neptuno y conecta tu frontend en minutos.

---------------

🚀 Neptuno: La API de Backend para Gamificación, Monetización y Autenticación

Framework backend gratuito para campañas de marketing, landing pages y SaaS. Solo pagas por soporte, desarrollo a medida o consultoría.
🎯 Lanza tu backend en minutos y gestiona todo el ciclo de vida del usuario

Neptuno es un boilerplate backend listo para producción, diseñado para campañas, landing pages y aplicaciones SaaS que requieren autenticación, gamificación y pagos.

Te permite seguir a cada usuario desde que es un lead anónimo hasta que se convierte en cliente, sin necesidad de desarrollar un backend desde cero.

✔️ Autenticación y gestión de usuarios (OAuth2, JWT, roles y permisos avanzados)
✔️ Gamificación nativa (score, créditos, badges, niveles, desafíos)
✔️ Monetización integrada (medios de pago, suscripciones, modelos freemium)
✔️ Gestión avanzada de leads y clientes (segmentación, tracking y triggers de conversión)
✔️ API flexible y escalable (FastAPI, OpenAPI, GraphQL-ready)
✔️ Eventos y automatización (acciones basadas en interacciones del usuario)
🛠 Conéctalo con cualquier frontend y amplíalo sin límites

Neptuno está diseñado para integrarse fácilmente con cualquier frontend o stack tecnológico:

🔹 Compatible con React, Angular, Vue, Svelte, Next.js y más
🔹 API RESTful basada en FastAPI con documentación en OpenAPI
🔹 Soporta GraphQL y se puede ampliar con más librerías según tus necesidades
🔹 Arquitectura modular y escalable para adaptarse a proyectos de cualquier tamaño
📡 Casos de uso ideales
🎮 Campañas con gamificación y recompensas

✔️ Atribuye puntos, créditos o logros a cada interacción del usuario
✔️ Define niveles, badges o incentivos para mejorar la retención
✔️ Automatiza la conversión de leads a clientes con triggers personalizados
📈 Landing pages y micrositios con monetización integrada

✔️ Control total sobre autenticación, pagos y suscripciones
✔️ Modelo freemium o premium con créditos y desbloqueo de funciones
✔️ Pagos con tarjeta, criptomonedas o wallets digitales
💻 SaaS con lógica de negocio avanzada

✔️ Roles y permisos personalizables para usuarios y administradores
✔️ Integración con herramientas de marketing y CRM
✔️ Webhooks y eventos para conectar con cualquier sistema externo
💰 Gratis. Solo pagas por lo que necesitas.

Neptuno es 100% gratuito y puedes empezar a usarlo hoy. Solo pagas si necesitas:

💡 Soporte técnico premium para optimizar y escalar tu implementación
⚡ Desarrollo a medida para adaptar Neptuno a tus necesidades específicas
📊 Consultoría estratégica para mejorar la conversión y rentabilidad de tus campañas
🚀 Ahorra meses de desarrollo y enfócate en crecer

No reinventes la rueda. Neptuno ya tiene la infraestructura que necesitas para lanzar tu campaña, landing page o SaaS en tiempo récord.

🔗 Descárgalo gratis y conecta tu frontend en minutos.



Bueno ya esta bien de marketing, no te quiero para esto, pero si queria que supieses
a quien va dirigido y cual es el foco del producto...

ahora vamos a ponernos manos a la obra! Pasamos a la segunda parte del punto 1: 

ENTORNO BASICO Y CONFIGURACIÓN DEL BAAS

Te explicaré como esta montado el stack.

Ve anotando muy bien a partir de ahora porque ya te voy a pasando archivos de produción

Primero de todo, el arbol de archivos

=====

├── alembic.ini
├── backend
│   ├── ALAMBIC
│   ├── api
│   │   ├── graphql
│   │   │   ├── main.example.py
│   │   │   ├── p
│   │   │   ├── readme.md
│   │   │   ├── router.py
│   │   │   ├── schema
│   │   │   │   ├── auth.py
│   │   │   │   ├── coupons.py
│   │   │   │   ├── gamification.py
│   │   │   │   ├── __init__.py
│   │   │   │   ├── payment_providers.py
│   │   │   │   ├── payment.py
│   │   │   │   ├── site_settings.py
│   │   │   │   └── user.py
│   │   │   ├── schema.py
│   │   │   └── test.md
│   │   ├── __init__.py
│   │   └── v1
│   │       ├── auth
│   │       │   └── auth.py
│   │       ├── config
│   │       │   ├── integrations.py
│   │       │   ├── origins.py
│   │       │   └── site_settings.py
│   │       ├── gamification
│   │       │   ├── coupons.py
│   │       │   └── gamification.py
│   │       ├── health
│   │       │   └── test.py
│   │       ├── __init__.py
│   │       ├── logs
│   │       │   ├── api_logs.py
│   │       │   └── error_logs.py
│   │       ├── transactions
│   │       │   ├── credit_transactions.py
│   │       │   ├── payment_providers.py
│   │       │   └── payments.py
│   │       └── users
│   │           ├── anonymous_sessions.py
│   │           └── users.py
│   ├── app.log
│   ├── app.log.1
│   ├── background.sh
│   ├── check_db.sh
│   ├── core
│   │   ├── config.py
│   │   ├── database.py
│   │   ├── __init__.py
│   │   ├── logging.py
│   │   └── security.py
│   ├── dependencies
│   │   ├── auth.py
│   │   ├── credits.py
│   │   └── __init__.py
│   ├── dev.db
│   ├── Dockerfile
│   ├── env.local
│   ├── env.prod
│   ├── ini_db.py
│   ├── __init__.py
│   ├── main.py
│   ├── middleware
│   │   ├── credits_middleware.py
│   │   ├── gamification.py
│   │   ├── __init__.py
│   │   └── logging.py
│   ├── models
│   │   ├── allowed_origin.py
│   │   ├── coupon.py
│   │   ├── coupon_type.py
│   │   ├── credit_transaction.py
│   │   ├── error_log.py
│   │   ├── gamification.py
│   │   ├── guests.py
│   │   ├── __init__.py
│   │   ├── integration.py
│   │   ├── log.py
│   │   ├── payment_method.py
│   │   ├── payment_provider.py
│   │   ├── site_settings.py
│   │   ├── token.py
│   │   └── user.py
│   ├── requirements.txt
│   ├── schemas
│   │   ├── allowed_origin.py
│   │   ├── anonymous_session.py
│   │   ├── api_log.py
│   │   ├── auth.py
│   │   ├── coupon.py
│   │   ├── credit_transaction.py
│   │   ├── error_log.py
│   │   ├── gamification.py
│   │   ├── integration.py
│   │   ├── payment.py
│   │   ├── site_settings.py
│   │   └── user.py
│   ├── services
│   │   ├── auth_service.py
│   │   ├── coupon_service.py
│   │   ├── credits_service.py
│   │   ├── gamification_service.py
│   │   ├── __init__.py
│   │   ├── integration_service.py
│   │   ├── log_service.py
│   │   ├── origin_service.py
│   │   ├── payment_provider_service.py
│   │   ├── payment_service.py
│   │   ├── settings_service.py
│   │   └── user_service.py
│   ├── tasks.py
│   └── up_api.sh
├── backlog.md
├── docker-compose.yml
├── frontend
│   ├── deploy.sh
│   ├── Dockerfile
│   ├── env.local
│   ├── env.prod
│   ├── eslint.config.mjs
│   ├── next.config.ts
│   ├── package.json
│   ├── package-lock.json
│   ├── postcss.config.js
│   ├── public
│   │   ├── apple-touch-icon.ico
│   │   ├── favicon-16x16.ico
│   │   ├── favicon.ico
│   │   ├── logo.png
│   │   └── robots.txt
│   ├── src
│   │   ├── app
│   │   │   ├── about
│   │   │   │   ├── layout.tsx
│   │   │   │   └── [page]
│   │   │   │       ├── contact.tsx
│   │   │   │       ├── page.tsx
│   │   │   │       ├── policy.tsx
│   │   │   │       ├── privacy.tsx
│   │   │   │       └── us.tsx
│   │   │   ├── admin
│   │   │   │   ├── dashboard
│   │   │   │   │   ├── page.min..tsx
│   │   │   │   │   ├── page.sidebar.tsx
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── gamification
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── registry
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── reset-credits
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── revenues
│   │   │   │   │   └── page.tsx
│   │   │   │   └── users
│   │   │   │       └── page.tsx
│   │   │   ├── (default-site)
│   │   │   │   ├── about-us
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── blog
│   │   │   │   │   ├── page.tsx
│   │   │   │   │   └── [slug]
│   │   │   │   │       └── page.tsx.bug
│   │   │   │   ├── contact
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── faq
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── landing
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── __layout.tsx
│   │   │   │   ├── pricing
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── privacy
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── products
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── services
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── _sitemap.xml
│   │   │   │   │   └── route.ts
│   │   │   │   └── terms
│   │   │   │       └── page.tsx
│   │   │   ├── (gamification)
│   │   │   │   ├── ejemplos
│   │   │   │   │   └── page.tsx
│   │   │   │   └── rankings
│   │   │   │       └── page.tsx
│   │   │   ├── global.css
│   │   │   ├── layout.tsx
│   │   │   ├── page.old.tsx
│   │   │   ├── page.tsx
│   │   │   ├── sitemap.ts.example
│   │   │   └── user
│   │   │       ├── auth
│   │   │       │   ├── layout.tsx
│   │   │       │   └── page.tsx
│   │   │       ├── badges
│   │   │       │   └── page.tsx
│   │   │       ├── change-password
│   │   │       │   └── page.tsx
│   │   │       ├── coupon
│   │   │       │   └── page.tsx
│   │   │       ├── dashboard
│   │   │       │   ├── page.bug..tsx
│   │   │       │   ├── page.min.tsx
│   │   │       │   └── page.tsx
│   │   │       ├── points
│   │   │       │   └── page.tsx
│   │   │       └── transactions
│   │   │           └── page.tsx
│   │   ├── components
│   │   │   ├── admin
│   │   │   │   └── AdminUsersPage.tsx
│   │   │   ├── dashboard
│   │   │   │   └── DashboardUI.tsx
│   │   │   ├── seo
│   │   │   │   ├── MetaTags.tsx
│   │   │   │   └── ShemaMarkup.tsx
│   │   │   ├── ui
│   │   │   │   ├── FeatureDisabled.tsx
│   │   │   │   ├── FeatureStateHandler.tsx
│   │   │   │   ├── FilterableTabs.tsx
│   │   │   │   ├── index.tsx
│   │   │   │   ├── MinimalCard copy.tsx
│   │   │   │   ├── MinimalCard.tsx
│   │   │   │   ├── MinimalForm.tsx
│   │   │   │   ├── MinimalList.tsx
│   │   │   │   ├── Notification.tsx
│   │   │   │   ├── SectionHeader.tsx
│   │   │   │   ├── SectionTable.tsx
│   │   │   │   └── Styled.tsx
│   │   │   └── web
│   │   │       ├── Footer.tsx
│   │   │       ├── Navbar.bak.tsx
│   │   │       ├── Navbar.new.1.tsx
│   │   │       └── Navbar.tsx
│   │   ├── hooks
│   │   │   ├── useFetchData.ts
│   │   │   └── useNotifications.tsx
│   │   └── lib
│   │       ├── api.ts
│   │       ├── auth
│   │       │   └── context.tsx
│   │       ├── payments
│   │       │   ├── example.tsx
│   │       │   ├── manager.ts
│   │       │   └── stripe.ts
│   │       ├── payments.ts
│   │       └── types.ts
│   ├── tailwind.config.js
│   ├── tsconfig.json
│   ├── up_front.sh
│   └── WEBSOCKETS


│   └── welcome.prompt
├── README.md
├── roadmap.doc
├── run.sh



=====


Interesante eh? 

Ahora te voy a pasar archivos importantes de configuración que debes tener muy presentes
y que desde ya debes aprender, en cada uno de ellos va la ubicación y nombre del archivo
en la primera linea para que los ubiques en el arbol del proyecto

el contenido comentado en los archivos es porque son features que se implantarán en el futuro
o que ya no se usan, pero es interesante mantenerlas

comenzamos

// docker-compose.yml
=======

# version: '3.8'

services:
  backend:
    #image: tucuenta/backend-fastapi:latest
    container_name: neptuno-stack
    build: ./backend
    ports: 
      - "8000:8000" # Accesible en https://192.168.18.70:8000
    #env_file: ./backend/.env  # Variables de entorno (base de datos, API keys, etc.)
    environment:
      - WORKERS_PER_CORE=0.5 # 1 worker para 2 CPUs
      - MAX_WORKERS=2 # 2 workers
      #- UVICORN_HOST=0.0.0.0
      #- UVICORN_PORT=8000
      #- MAX_THREADS=2  # 2 threads por worker
      #- MAX_REQUESTS=1000  # 1000 peticiones por worker
    volumes:
      - backend_data:/app/data  # Persistencia de datos
      - backend_logs:/app/logs  # Logs de backend
    depends_on:
      - db
    restart: always
    deploy: #  replicas: 2 # 2 instancias por defecto

    #logging:
    #  options:
    #    max-size: "10m"
    #    max-file: "3"
    networks:
      vboxnet:
        ipv4_address: 172.18.0.2 # IP fija para el backend

  frontend:
    #image: tucuenta/frontend-nextjs:latest
    container_name: neptuno-dashboard
    build: ./frontend
    ports:
      - "3000:3000"
    #env_file: ./backend/.env  # Variables de entorno (base de datos, API keys, etc.)      
    #environment: 
    # - NEXT_PUBLIC_API_URL=http://backend:8000
    depends_on:
      - backend
    volumes:
      - frontend_logs:/app/logs  # Logs de frontend
    restart: always

    deploy: #  replicas: 2 # 2 instancias por defecto docker-compose up -d --scale fastapi=2 --scale nextjs=2

    #  resources:
    #    limits:
    #      cpus: '0.5'
    #      memory: 512M

    #logging:
    #  options:
    #    max-size: "10m"
    #    max-file: "3"

    #env_file: ./frontend/.env  # Cargar credenciales desde un archivo .env
    
    networks:
      vboxnet:
        ipv4_address: 172.18.0.3 # IP fija para el frontend

  db:
    image: mariadb:10.11 # image: mysql:8.0
    restart: always
    command: --innodb_buffer_pool_size=512M --query_cache_size=64M --tmp_table_size=64M # alta demanda
    container_name: neptuno-db
   
    environment:
       - MARIADB_ROOT_PASSWORD=tu_contraseña_segura
       - MARIADB_DATABASE=tu_base_de_datos
       - MARIADB_USER=tu_usuario
       - MARIADB_PASSWORD=contraseña_usuario
    #  - MARIADB_ROOT_PASSWORD="J8#jKpL2!mN9$qR5tXv7zY"
    #  - MARIADB_ROOT_PASSWORD_HASH="*CC6A5B2E4D1F9E8A7B3C5D2E1F0A8B7C6D5E4F3A2B1C0D9E8F7A6B5C4D3E2F1"
    #  - MARIADB_ALLOW_EMPTY_ROOT_PASSWORD="no"  
    #  - MARIADB_RANDOM_ROOT_PASSWORD="yes"      
    #  - MYSQL_ROOT_PASSWORD: tu_contraseña_root
    #  - MYSQL_DATABASE: ciberpunk_db
    #  - MYSQL_USER: ciberpunk_user
    #  - MYSQL_PASSWORD: tu_contraseña_usuario
    
  #  env_file:
  #    - ./backend/.env
    ports:
      - "3306:3306"
    volumes:
      - mariadb_data:/var/lib/mysql #- mysql_data:/var/lib/mysql  
    networks:
      vboxnet:
        ipv4_address: 172.18.0.4

#mariadb-replica:
#  image: mariadb:latest
#  environment:
#    MYSQL_REPLICATION_MODE: slave
#    MYSQL_MASTER_HOST: mariadb
#    MYSQL_ROOT_PASSWORD: tu_contraseña_root
#  volumes:
#    - mariadb-replica-data:/var/lib/mysql

#  db:
#    image: postgres:15
#    restart: always
#    env_file:
#     - ./backend/.env  # Archivo con las credenciales de la DB
#    ports:
#      - "5432:5432"
#    volumes:
#      - postgres_data:/var/lib/postgresql/data  # Persistencia de DB
#    networks:
#      mynetwork:
#        ipv4_address: 172.18.0.4

#  nginx:
#    image: nginx:latest
#    restart: always
#    ports:
#      - "80:80"   # HTTP
#      - "443:443" # HTTPS
#    volumes:
#      - ./nginx.conf:/etc/nginx/nginx.conf:ro  # Configuración del proxy inverso
#      - ssl_certs:/etc/nginx/certs  # Certificados SSL
#      - ./ssl:/etc/nginx/certs:ro 
#    depends_on:
#     - frontend
#      - backend
#    networks:
#      mynetwork:
#        ipv4_address: 172.18.0.5
#
networks:
  vboxnet:
    driver: bridge
    ipam:
      config:
        - subnet: "172.18.0.0/16"
          gateway: "172.18.0.1"


volumes:
  backend_data:
  backend_logs:
  frontend_logs:
  mariadb_data:
  #postgres_data:
  #ssl_certs:


Configuración de Nginx para el servidor Neptuno
===========
  # etc/nginx/nginx.conf

user www-data;
worker_processes 2;  # auto = número de CPUs físicas (2 en tu caso)
pid /var/run/nginx.pid;
error_log /var/log/nginx/error.log warn;
include /etc/nginx/modules-enabled/*.conf;

# brotli on;
# brotli_types text/plain text/css application/json application/javascript text/xml;

events {
    worker_connections 2048;  # Máximo permitido por tu ulimit (1024)
    multi_accept on;
    use epoll;  # Manejador eficiente para Linux
}

http {

    ##
    # Basic Settings
    ##

    sendfile on;
    tcp_nopush on;
    types_hash_max_size 2048;
    # server_tokens off;

    # server_names_hash_bucket_size 64;
    # server_name_in_redirect off;
    # server_name_hash_max_size 512;
    # server_name_hash_bucket_size 64;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;


    ##
    # SSL Settings
    ##

    #ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE
    #ssl_protocols TLSv1.2 TLSv1.3;  # Solo versiones seguras
    #ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';  # Cifrados modernos
    #ssl_ciphers "EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH";

    ssl_protocols TLSv1.2 TLSv1.3;  # Elimina TLSv1 y TLSv1.1
    ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:ECDHE-ECDSA-AES128-GCM-SHA256';
    ssl_prefer_server_ciphers on;
    

    # Optimizaciones SSL
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 1d;
    ssl_buffer_size 4k;
    ssl_session_tickets off;  # Recomendado para segurida

    # Configuración SSL segura
    #ssl_ecdh_curve X25519:secp384r1;  # Curvas elípticas modernas
    #ssl_session_cache shared:SSL:10m;
    #ssl_session_tickets off;
    #ssl_stapling off;
    #ssl_stapling_verify off;


    # Optimización de buffers (crítico con 2GB RAM)
    # Buffers y timeouts
    client_body_buffer_size 16k;
    client_header_buffer_size 1k;
    client_max_body_size 8m; # uploads
    large_client_header_buffers 4 8k;

    # Timeouts ajustados
    #keepalive_timeout 15s;
    #client_body_timeout 12s;
    #client_header_timeout 12s;
    #send_timeout 10s;


    # Cache de archivos
    open_file_cache max=2000 inactive=20s;
    open_file_cache_valid 60s;
    open_file_cache_min_uses 2;

    # proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=my_cache:10m max_size=1g inactive=60m use_temp_path=off;

    proxy_buffer_size 128k;
    #proxy_buffers 4 256k;        # Total buffer size = 4 * 256k = 1024k
    #proxy_busy_buffers_size 512k; # Must be < (1024k - 256k) = 768k (so 512k is safe)

    # Para poca memoria
    proxy_buffers 4 128k;           # 512k total (en lugar de 1024k)
    proxy_busy_buffers_size 256k;   # Mitad del total

    ##
    # Gzip Settings
    ##


    # Si el backend ya comprime respuestas (ej: gzip o brotli), Nginx las re-comprimirá, lo que es ineficiente.


    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;
    gzip_min_length 1024;
    gzip_comp_level 5;
    # gzip_vary on;
    # gzip_proxied any;
    # gzip_buffers 16 8k;
    # gzip_http_version 1.1;
 
    # Security
    server_tokens off; # Oculta la versión de Nginx
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
    add_header X-XSS-Protection "1; mode=block";

    add_header Referrer-Policy "strict-origin-when-cross-origin";
    #add_header Content-Security-Policy "default-src 'self'; frame-ancestors 'none'";
    add_header Permissions-Policy "geolocation=(), microphone=()";
    
    ##
    # Logging Settings
    ##


    log_format main '$remote_addr - $remote_user [$time_local] "$request" '
                    '$status $body_bytes_sent "$http_referer" '
                    '"$http_user_agent" "$http_x_forwarded_for" '
                    'upstream=$upstream_addr rt=$request_time';

    access_log /var/log/nginx/access.log main;

    ##
    # Virtual Host Configs
    ##

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
}


==

// backend/Dockerfile
====
# Usa una imagen ligera de Python
FROM python:3.10-slim

# Define el directorio de trabajo en el contenedor
WORKDIR /app

# Copia y instala las dependencias
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt


# Copia el código fuente
COPY . .

#RUN python3 initial_data.py

# Exponer el puerto 8000
EXPOSE 8000

# Usar Gunicorn con Uvicorn para producción
CMD ["gunicorn", "-k", "uvicorn.workers.UvicornWorker", "-b", "0.0.0.0:8000", "--forwarded-allow-ips", "*", "main:app"]
#CMD ["gunicorn", "-k", "uvicorn.workers.UvicornWorker", "-b", "0.0.0.0:8000", "main:app"]
#CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
#ExecStart=/var/www/ciberpunk.es/backend/venv/bin/gunicorn -w 4 -k uvicorn.workers.UvicornWorker main:app --bind 0.0.0.0:8000
#CMD ["sh", "-c", "python -m initial_data && uvicorn main:app --host 0.0.0.0 --port 8000"]


// frontend/Dockerfile
=======

# Etapa de construcción
FROM node:18-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# Etapa de producción
FROM node:18-alpine AS production

WORKDIR /app
# Copiamos solo lo necesario desde el builder
COPY --from=builder /app/package*.json ./
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/out ./out
COPY --from=builder /app/public ./public
COPY --from=builder /app/node_modules ./node_modules

# esto se mueve al otro contenedor
#COPY --from=builder nginx.conf /etc/nginx/nginx.conf
#COPY --from=builder nginx.conf /etc/nginx/sites-available/default
#RUN ln -s /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default
#RUN systemctl restart nginx

# Instalamos serve para servir la aplicación estática
RUN npm install -g serve

EXPOSE 3000
#CMD ["serve", "-s", "out", "-l", "3000"]
#EXPOSE 3000
#EXPOSE 80
#CMD ["npm", "run", "start"]
#CMD ["nginx", "-g", "daemon off;"]
CMD ["npx", "next", "start"]










# frontend/package.json
======

{
    "name": "frontend",
    "version": "0.1.0",
    "private": true,
    "scripts": {
        "dev": "next dev",
        "build": "next build",
        "lint": "next lint",
        "export": "next export",
        "start": "npx next start",
        "clean": "rm -rf .next/ out/ node_modules/.cache/ && npm install"
    },
    "dependencies": {
        "@emotion/react": "^11.14.0",
        "@emotion/styled": "^11.14.0",
        "@mui/icons-material": "^6.4.8",
        "@mui/material": "^6.4.9",
        "@mui/x-data-grid": "^7.28.1",
        "axios": "^1.8.4",
        "framer-motion": "^12.5.0",
        "next": "^15.2.4",
        "react": "^19.0.0",
        "react-dom": "^19.0.0",
        "react-icons": "^5.5.0",
        "react-schemaorg": "^2.0.0",
        "recharts": "^2.15.3",
        "schema-dts": "^1.1.5",
        "swr": "^2.3.3"
    },
    "devDependencies": {
        "@types/estree": "^1.0.7",
        "@types/node": "^22.13.14",
        "@types/react": "^19.0.12",
        "@types/react-dom": "^19",
        "@types/recharts": "^1.8.29",
        "autoprefixer": "^10.4.21",
        "eslint": "^9",
        "eslint-config-next": "15.2.3",
        "postcss": "^8.5.3",
        "tailwindcss": "^3.4.17",
        "typescript": "^5.8.2"
    }
}


# next.config.ts

// next.config.ts
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
 // Specified "headers" will not automatically work with "output: export". See more info here: https://nextjs.org/docs/messages/export-no-custom-routes
  output: "export", // Habilita el modo estático para `next export`
 
  trailingSlash: true, // Asegura que los archivos se sirvan correctamente
  images: {
    unoptimized: true, // Necesario para que `next/image` funcione en modo export
  },
  reactStrictMode: true,
  eslint: {
    ignoreDuringBuilds: false, // Optional: true to ignore ESLint warnings during build
  },

  
  
  
  async headers() {
    return [
      {
        source: '/api/:path*',
        headers: [
          { key: 'Access-Control-Allow-Credentials', value: 'true' },
          { key: 'Access-Control-Allow-Origin', value: '*' },
          { key: 'Access-Control-Allow-Methods', value: 'GET,OPTIONS,PATCH,DELETE,POST,PUT' },
          { key: 'Access-Control-Allow-Headers', value: 'X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version' },
        ]
      }
    ]
  },
  // Para desarrollo
  allowedDevOrigins: [
    "*"
   // "https://localhost:3000",
    //"https://194.164.164.177:3000"
  ]

  


};

export default nextConfig;



//module.exports = {
//  env: {
//    NEXT_PUBLIC_API_URL: "https://172.20.0.4/api",
//  },
//};


# tsconfig.json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "types": ["next/types"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": false,
    "noEmit": true,
    "incremental": true,
    "module": "esnext",
    "esModuleInterop": true,
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    ".next/types/**/*.ts",
    "**/*.ts",
    "**/*.tsx"
  ],
  "exclude": [
    "node_modules"
  ]
}




# backend/.env

ENVIRONMENT=development
PROJECT_NAME=neptuno
DEBUG=True
HOST=127.0.0.1
PORT=8000
SQLITE_UR=sqlite:///dev.db # dev
SECRET_KEY=tu_clave_secreta_aqui
MYSQL_URL=mysql+pymysql://user:password@172.18.0.4:3306/nombre_db # prod

DB_HOST=172.18.0.4
DB_PORT=3306
DB_USER=usuario
DB_PASSWORD=supersecreta
DB_NAME=neptuno

GOOGLE_CLIENT_ID=tu_client_id
GOOGLE_CLIENT_SECRET=tu_client_secret
GOOGLE_REDIRECT_URI=http://localhost:8000/v1/auth/login/google/callback
META_CLIENT_ID=tu_app_id
META_CLIENT_SECRET=tu_app_secret
META_REDIRECT_URI=http://localhost:8000/v1/auth/login/meta/callback

REDIS_HOST="localhost"
REDIS_PORT=6379



# frontend/.env

NEXT_PUBLIC_API_URL="http://127.0.0.1:8000/" # dev
SECRET_KEY="your_secret_key"

Bien por ahora? ¿Hechas en falta alguna configuración?


Neptuno, el nombre que le he dado al BaaS como ya sabes, es un stack de marketing listo para producción que aborda todo el funnel de ventas desde que entra el lead (usuarios anonimos en nuestro bacckend) hasta que convierte en cliente, estimulando su conversión gracias a nuestras librerias de puntos, creditos, insignias, rankings (y otros en el futuro) que ayuda a los equipos de marketing a convertir y enganchar mas rapido a los prospectos, nutrir clientes, etc.

Tecnicamente ya sabes lo que hemos montado: un sistema dockerizado de servidores balanceados, con replicas de la db, y con un proxy nginx.

Al utilzar FastAPI y OpenAPI con RESTful nuestra api vuela literalmente...

Como ves nuestro BaaS es modular en todas las capas y sentidos: desplegamos un docker para la api
y otro para el frontend, otro docker para el proxy que hace de comuniación entre ellos.

Esta arquitectura está ahora mismo corriendo en un servidor VPS, y el codigo que te he pasado
es el de producción.

Te adelanto que el frontend en Nextjs se comunica con la api para demostrar el usuario todas
las capacidades de la api, ademas de ofrecer un dashboard para usuarios, autenticacion etc..

En el siguiente punto entraré a pasarte todos los archivos importantes de la parte del backend

bien?

ah one more tehing ;)

Y como premio, te voy a pasar la api en formato openAPI porque se que este proyecto es de tu interes,
ahora entraremos mas de lleno en el backend

Si tienes dudas o consultas no tengas problema en preguntar, ahora te toca aprender bien toda la herramienta

{"openapi":"3.1.0","info":{"title":"Neptuno","version":"0.1.0"},"paths":{"/v1/auth/token":{"post":{"tags":["auth","auth"],"summary":"Login For Access Token","operationId":"login_for_access_token_v1_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_v1_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/register":{"post":{"tags":["auth","auth"],"summary":"Register","operationId":"register_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/password-reset":{"post":{"tags":["auth","auth"],"summary":"Reset Password","operationId":"reset_password_v1_auth_password_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Reset Password V1 Auth Password Reset Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/password-reset/confirm":{"post":{"tags":["auth","auth"],"summary":"Confirm Password Reset","operationId":"confirm_password_reset_v1_auth_password_reset_confirm_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Confirm Password Reset V1 Auth Password Reset Confirm Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/refresh":{"post":{"tags":["auth","auth"],"summary":"Refresh Token","operationId":"refresh_token_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/logout":{"post":{"tags":["auth","auth"],"summary":"Logout","operationId":"logout_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Logout V1 Auth Logout Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/v1/auth/login/{provider}":{"get":{"tags":["auth","auth"],"summary":"Get Provider Login Url","operationId":"get_provider_login_url_v1_auth_login__provider__get","parameters":[{"name":"provider","in":"path","required":true,"schema":{"type":"string","title":"Provider"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Provider Login Url V1 Auth Login  Provider  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/login/{provider}/callback":{"post":{"tags":["auth","auth"],"summary":"Provider Callback","operationId":"provider_callback_v1_auth_login__provider__callback_post","parameters":[{"name":"provider","in":"path","required":true,"schema":{"type":"string","title":"Provider"}},{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth/me/password":{"put":{"tags":["auth","auth"],"summary":"Change Password","operationId":"change_password_v1_auth_me_password_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Change Password V1 Auth Me Password Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/users/me":{"get":{"tags":["users","users"],"summary":"Get Me","operationId":"get_me_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"put":{"tags":["users","users"],"summary":"Update Me","operationId":"update_me_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users","users"],"summary":"Delete Me","operationId":"delete_me_v1_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Delete Me V1 Users Me Delete"}}}}}}},"/v1/users/admin/users":{"get":{"tags":["users","users"],"summary":"Get All Users","operationId":"get_all_users_v1_users_admin_users_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get All Users V1 Users Admin Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/users/{user_id}":{"get":{"tags":["users","users"],"summary":"Get User","operationId":"get_user_v1_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users","users"],"summary":"Update User By Id","operationId":"update_user_by_id_v1_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users","users"],"summary":"Delete User By Id","operationId":"delete_user_by_id_v1_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Delete User By Id V1 Users  User Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/test/consultar":{"get":{"tags":["test","test"],"summary":"Consultar","operationId":"consultar_v1_test_consultar_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/test/reset-credits":{"post":{"tags":["test","test"],"summary":"Reset All Credits","operationId":"reset_all_credits_v1_test_reset_credits_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/test/example":{"get":{"tags":["test","test"],"summary":"Example Endpoint","operationId":"example_endpoint_v1_test_example_get","parameters":[{"name":"func","in":"query","required":true,"schema":{"title":"Func"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/test/test-credit-consumption":{"get":{"tags":["test","test"],"summary":"Test Credit Consumption","operationId":"test_credit_consumption_v1_test_test_credit_consumption_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/test/no-login/":{"get":{"tags":["test","test"],"summary":"No Login Test","description":"Endpoint para probar la API sin necesidad de login.\nConsume créditos si están activos.","operationId":"no_login_test_v1_test_no_login__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/test/restricted":{"get":{"tags":["test","test"],"summary":"Restricted Test","description":"Endpoint restringido que requiere login.\nConsume créditos si están activos.","operationId":"restricted_test_v1_test_restricted_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/test/test-event":{"post":{"tags":["test","test"],"summary":"Test Gamification Event","operationId":"test_gamification_event_v1_test_test_event_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GamificationEventResponse"}}}}}}},"/v1/payments/purchase":{"post":{"tags":["payments","payments"],"summary":"Buy Credits","operationId":"buy_credits_v1_payments_purchase_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payments/methods":{"get":{"tags":["payments","payments"],"summary":"List Methods","operationId":"list_methods_v1_payments_methods_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PaymentMethodResponse"},"type":"array","title":"Response List Methods V1 Payments Methods Get"}}}}}},"post":{"tags":["payments","payments"],"summary":"Add Method","operationId":"add_method_v1_payments_methods_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payments/methods/{method_id}/default":{"put":{"tags":["payments","payments"],"summary":"Set Default","operationId":"set_default_v1_payments_methods__method_id__default_put","parameters":[{"name":"method_id","in":"path","required":true,"schema":{"type":"integer","title":"Method Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payments/transactions":{"get":{"tags":["payments","payments"],"summary":"List Transactions","operationId":"list_transactions_v1_payments_transactions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CreditTransactionResponse"},"type":"array","title":"Response List Transactions V1 Payments Transactions Get"}}}}}}},"/v1/payments/methods/{method_id}":{"put":{"tags":["payments","payments"],"summary":"Update Method","operationId":"update_method_v1_payments_methods__method_id__put","parameters":[{"name":"method_id","in":"path","required":true,"schema":{"type":"integer","title":"Method Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["payments","payments"],"summary":"Delete Method","operationId":"delete_method_v1_payments_methods__method_id__delete","parameters":[{"name":"method_id","in":"path","required":true,"schema":{"type":"integer","title":"Method Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/settings/allowed-origins":{"post":{"tags":["site_settings","site_settings"],"summary":"Add Origin","operationId":"add_origin_v1_settings_allowed_origins_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOriginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/settings/allowed-origins/{origin}":{"delete":{"tags":["site_settings","site_settings"],"summary":"Remove Origin","operationId":"remove_origin_v1_settings_allowed_origins__origin__delete","parameters":[{"name":"origin","in":"path","required":true,"schema":{"type":"string","title":"Origin"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/settings/admin/config":{"get":{"tags":["site_settings","site_settings"],"summary":"Get Admin Config","operationId":"get_admin_config_v1_settings_admin_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SiteSettingResponse"},"type":"array","title":"Response Get Admin Config V1 Settings Admin Config Get"}}}}}},"post":{"tags":["site_settings","site_settings"],"summary":"Update Config","operationId":"update_config_v1_settings_admin_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConfigRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/settings/{key}":{"put":{"tags":["site_settings","site_settings"],"summary":"Update Site Setting","operationId":"update_site_setting_v1_settings__key__put","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}},{"name":"value","in":"query","required":true,"schema":{"type":"string","title":"Value"}},{"name":"description","in":"query","required":false,"schema":{"type":"string","title":"Description"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["site_settings","site_settings"],"summary":"Get Site Setting","operationId":"get_site_setting_v1_settings__key__get","parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/integrations/":{"get":{"tags":["integrations","integrations"],"summary":"List Integrations","operationId":"list_integrations_v1_integrations__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response List Integrations V1 Integrations  Get"}}}}}},"post":{"tags":["integrations","integrations"],"summary":"Create Integration","operationId":"create_integration_v1_integrations__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Create Integration V1 Integrations  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/integrations/{integration_id}":{"put":{"tags":["integrations","integrations"],"summary":"Update Integration","operationId":"update_integration_v1_integrations__integration_id__put","parameters":[{"name":"integration_id","in":"path","required":true,"schema":{"type":"integer","title":"Integration Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Update Integration V1 Integrations  Integration Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["integrations","integrations"],"summary":"Delete Integration","operationId":"delete_integration_v1_integrations__integration_id__delete","parameters":[{"name":"integration_id","in":"path","required":true,"schema":{"type":"integer","title":"Integration Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/integrations/{integration_id}/toggle":{"put":{"tags":["integrations","integrations"],"summary":"Toggle Integration","operationId":"toggle_integration_v1_integrations__integration_id__toggle_put","parameters":[{"name":"integration_id","in":"path","required":true,"schema":{"type":"integer","title":"Integration Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Toggle Integration V1 Integrations  Integration Id  Toggle Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/integrations/integrations":{"post":{"tags":["integrations","integrations"],"summary":"Create Integration","operationId":"create_integration_v1_integrations_integrations_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntegrationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/errors/":{"get":{"tags":["Errors","Errors"],"summary":"Get Error Logs","operationId":"get_error_logs_v1_errors__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Error Logs V1 Errors  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/errors/clear":{"delete":{"tags":["Errors","Errors"],"summary":"Clear Errors","description":"Elimina todos los errores registrados. Solo accesible para administradores.","operationId":"clear_errors_v1_errors_clear_delete","responses":{"204":{"description":"Successful Response"}}}},"/v1/sessions/":{"get":{"tags":["Sessions","Sessions"],"summary":"Get Anonymous Sessions","operationId":"get_anonymous_sessions_v1_sessions__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Anonymous Sessions V1 Sessions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/sessions/credits":{"get":{"tags":["Sessions","Sessions"],"summary":"Get Anonymous Credits","operationId":"get_anonymous_credits_v1_sessions_credits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Anonymous Credits V1 Sessions Credits Get"}}}}}}},"/v1/transactions/":{"get":{"tags":["Transactions","Transactions"],"summary":"Get Credit Transactions","operationId":"get_credit_transactions_v1_transactions__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Credit Transactions V1 Transactions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/transactions/kpis":{"get":{"tags":["Transactions","Transactions"],"summary":"Get Saas Kpis","operationId":"get_saas_kpis_v1_transactions_kpis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/logs/":{"get":{"tags":["Logs","Logs"],"summary":"Get Api Logs","operationId":"get_api_logs_v1_logs__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Api Logs V1 Logs  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/logs/clear":{"delete":{"tags":["Logs","Logs"],"summary":"Clear Logs","description":"Elimina todos los logs de la API. Solo accesible para administradores.","operationId":"clear_logs_v1_logs_clear_delete","responses":{"204":{"description":"Successful Response"}}}},"/v1/gamification/rankings":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Rankings Endpoint","operationId":"get_rankings_endpoint_v1_gamification_rankings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RankingResponse"},"type":"array","title":"Response Get Rankings Endpoint V1 Gamification Rankings Get"}}}}}}},"/v1/gamification/events":{"get":{"tags":["Gamification","Gamification"],"summary":"Get My Events","operationId":"get_my_events_v1_gamification_events_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/GamificationEventResponse"},"type":"array","title":"Response Get My Events V1 Gamification Events Get"}}}}}},"post":{"tags":["Gamification","Gamification"],"summary":"Create Event","operationId":"create_event_v1_gamification_events_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GamificationEventCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/me":{"get":{"tags":["Gamification","Gamification"],"summary":"Get My Gamification","operationId":"get_my_gamification_v1_gamification_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserGamificationResponse"},"type":"array","title":"Response Get My Gamification V1 Gamification Me Get"}}}}}}},"/v1/gamification/events/{event_id}":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Event Details Endpoint","operationId":"get_event_details_endpoint_v1_gamification_events__event_id__get","parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GamificationEventResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/progress/{event_type_id}":{"get":{"tags":["Gamification","Gamification"],"summary":"Get User Progress For Event Endpoint","operationId":"get_user_progress_for_event_endpoint_v1_gamification_progress__event_type_id__get","parameters":[{"name":"event_type_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Type Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserGamificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/event-types/{event_type_id}/badges":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Badges For Event Endpoint","operationId":"get_badges_for_event_endpoint_v1_gamification_event_types__event_type_id__badges_get","parameters":[{"name":"event_type_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Type Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BadgeResponse"},"title":"Response Get Badges For Event Endpoint V1 Gamification Event Types  Event Type Id  Badges Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/event-types":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Event Types Endpoint","operationId":"get_event_types_endpoint_v1_gamification_event_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/EventTypeResponse"},"type":"array","title":"Response Get Event Types Endpoint V1 Gamification Event Types Get"}}}}}},"post":{"tags":["Gamification","Gamification"],"summary":"Create Event Type Endpoint","operationId":"create_event_type_endpoint_v1_gamification_event_types_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventTypeCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventTypeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/event-types/{event_type_id}":{"put":{"tags":["Gamification","Gamification"],"summary":"Update Event Type Endpoint","operationId":"update_event_type_endpoint_v1_gamification_event_types__event_type_id__put","parameters":[{"name":"event_type_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Type Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventTypeCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventTypeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Gamification","Gamification"],"summary":"Delete Event Type Endpoint","operationId":"delete_event_type_endpoint_v1_gamification_event_types__event_type_id__delete","parameters":[{"name":"event_type_id","in":"path","required":true,"schema":{"type":"integer","title":"Event Type Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/badges":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Badges Endpoint","operationId":"get_badges_endpoint_v1_gamification_badges_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BadgeResponse"},"type":"array","title":"Response Get Badges Endpoint V1 Gamification Badges Get"}}}}}},"post":{"tags":["Gamification","Gamification"],"summary":"Create Badge Endpoint","operationId":"create_badge_endpoint_v1_gamification_badges_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadgeCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadgeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/badges/{badge_id}":{"put":{"tags":["Gamification","Gamification"],"summary":"Update Badge Endpoint","operationId":"update_badge_endpoint_v1_gamification_badges__badge_id__put","parameters":[{"name":"badge_id","in":"path","required":true,"schema":{"type":"integer","title":"Badge Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadgeCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadgeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Gamification","Gamification"],"summary":"Delete Badge Endpoint","operationId":"delete_badge_endpoint_v1_gamification_badges__badge_id__delete","parameters":[{"name":"badge_id","in":"path","required":true,"schema":{"type":"integer","title":"Badge Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/gamification/kpis":{"get":{"tags":["Gamification","Gamification"],"summary":"Get Gamification Kpis","operationId":"get_gamification_kpis_v1_gamification_kpis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/payment-providers/":{"get":{"tags":["Payment Providers","Payment Providers"],"summary":"Get Providers","operationId":"get_providers_v1_payment_providers__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PaymentProviderResponse"},"type":"array","title":"Response Get Providers V1 Payment Providers  Get"}}}}}},"post":{"tags":["Payment Providers","Payment Providers"],"summary":"Create Provider","operationId":"create_provider_v1_payment_providers__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentProviderCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/payment-providers/{provider_id}":{"put":{"tags":["Payment Providers","Payment Providers"],"summary":"Update Provider","operationId":"update_provider_v1_payment_providers__provider_id__put","parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentProviderCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentProviderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Payment Providers","Payment Providers"],"summary":"Delete Provider","operationId":"delete_provider_v1_payment_providers__provider_id__delete","parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/test":{"post":{"tags":["Coupons","Coupons"],"summary":"Create Test Coupon Route","operationId":"create_test_coupon_route_v1_coupons_test_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_create_test_coupon_route_v1_coupons_test_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/activity":{"get":{"tags":["Coupons","Coupons"],"summary":"Get Coupons Activity","description":"Obtiene la actividad de cupones con paginación. Solo accesible para administradores.","operationId":"get_coupons_activity_v1_coupons_activity_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página","default":1,"title":"Page"},"description":"Número de página"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Elementos por página","default":10,"title":"Limit"},"description":"Elementos por página"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Coupons Activity V1 Coupons Activity Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/":{"get":{"tags":["Coupons","Coupons"],"summary":"Get All Coupons Endpoint","operationId":"get_all_coupons_endpoint_v1_coupons__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CouponResponse"},"type":"array","title":"Response Get All Coupons Endpoint V1 Coupons  Get"}}}}}},"post":{"tags":["Coupons","Coupons"],"summary":"Create Coupon Endpoint","operationId":"create_coupon_endpoint_v1_coupons__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/me":{"get":{"tags":["Coupons","Coupons"],"summary":"Get My Coupons","operationId":"get_my_coupons_v1_coupons_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CouponResponse"},"type":"array","title":"Response Get My Coupons V1 Coupons Me Get"}}}}}}},"/v1/coupons/{coupon_id}":{"put":{"tags":["Coupons","Coupons"],"summary":"Update Coupon Endpoint","operationId":"update_coupon_endpoint_v1_coupons__coupon_id__put","parameters":[{"name":"coupon_id","in":"path","required":true,"schema":{"type":"integer","title":"Coupon Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Coupons","Coupons"],"summary":"Delete Coupon Endpoint","operationId":"delete_coupon_endpoint_v1_coupons__coupon_id__delete","parameters":[{"name":"coupon_id","in":"path","required":true,"schema":{"type":"integer","title":"Coupon Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/redeem/{coupon_id}":{"post":{"tags":["Coupons","Coupons"],"summary":"Redeem Coupon Endpoint","operationId":"redeem_coupon_endpoint_v1_coupons_redeem__coupon_id__post","parameters":[{"name":"coupon_id","in":"path","required":true,"schema":{"type":"integer","title":"Coupon Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/generate-demo-coupon":{"post":{"tags":["Coupons","Coupons"],"summary":"Generate Demo Coupon","operationId":"generate_demo_coupon_v1_coupons_generate_demo_coupon_post","parameters":[{"name":"credits","in":"query","required":true,"schema":{"type":"integer","title":"Credits"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/coupons/types":{"get":{"tags":["Coupons","Coupons"],"summary":"Get Coupon Types","operationId":"get_coupon_types_v1_coupons_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CouponTypeResponse"},"type":"array","title":"Response Get Coupon Types V1 Coupons Types Get"}}}}}},"post":{"tags":["Coupons","Coupons"],"summary":"Create Coupon Type","operationId":"create_coupon_type_v1_coupons_types_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponTypeCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponTypeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/origins/":{"get":{"tags":["Origins","Origins"],"summary":"Get Origins","operationId":"get_origins_v1_origins__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AllowedOriginResponse"},"type":"array","title":"Response Get Origins V1 Origins  Get"}}}}}},"post":{"tags":["Origins","Origins"],"summary":"Create Origin","operationId":"create_origin_v1_origins__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllowedOriginCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllowedOriginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/origins/{origin_id}":{"delete":{"tags":["Origins","Origins"],"summary":"Delete Origin","operationId":"delete_origin_v1_origins__origin_id__delete","parameters":[{"name":"origin_id","in":"path","required":true,"schema":{"type":"integer","title":"Origin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/whoami":{"get":{"summary":"Get Info","operationId":"get_info_whoami_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AddOriginRequest":{"properties":{"origin":{"type":"string","title":"Origin"}},"type":"object","required":["origin"],"title":"AddOriginRequest"},"AllowedOriginCreate":{"properties":{"origin":{"type":"string","title":"Origin"}},"type":"object","required":["origin"],"title":"AllowedOriginCreate"},"AllowedOriginResponse":{"properties":{"id":{"type":"integer","title":"Id"},"origin":{"type":"string","title":"Origin"}},"type":"object","required":["id","origin"],"title":"AllowedOriginResponse"},"BadgeCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"event_type_id":{"type":"integer","title":"Event Type Id"},"required_points":{"type":"integer","title":"Required Points"},"user_type":{"type":"string","title":"User Type","default":"both"}},"type":"object","required":["name","event_type_id","required_points"],"title":"BadgeCreate"},"BadgeResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"event_type_id":{"type":"integer","title":"Event Type Id"},"required_points":{"type":"integer","title":"Required Points"},"user_type":{"type":"string","title":"User Type","default":"both"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","event_type_id","required_points","id"],"title":"BadgeResponse"},"Body_create_test_coupon_route_v1_coupons_test_post":{"properties":{"coupon_type_id":{"type":"integer","title":"Coupon Type Id"}},"type":"object","required":["coupon_type_id"],"title":"Body_create_test_coupon_route_v1_coupons_test_post"},"Body_login_for_access_token_v1_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_v1_auth_token_post"},"ChangePasswordRequest":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordRequest"},"CouponCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"unique_identifier":{"type":"string","title":"Unique Identifier"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"credits":{"type":"integer","title":"Credits"},"active":{"type":"boolean","title":"Active","default":true},"coupon_type_id":{"type":"integer","title":"Coupon Type Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"issued_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Issued At"},"redeemed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Redeemed At"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","required":["name","unique_identifier","credits","coupon_type_id"],"title":"CouponCreate"},"CouponResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"unique_identifier":{"type":"string","title":"Unique Identifier"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"credits":{"type":"integer","title":"Credits"},"active":{"type":"boolean","title":"Active","default":true},"id":{"type":"integer","title":"Id"},"issued_at":{"type":"string","format":"date-time","title":"Issued At"},"redeemed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Redeemed At"},"status":{"type":"string","title":"Status"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"redeemed_by_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Redeemed By User Id"},"redeemed_by_session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Redeemed By Session Id"}},"type":"object","required":["name","unique_identifier","credits","id","issued_at","status"],"title":"CouponResponse"},"CouponTypeCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"credits":{"type":"integer","title":"Credits"},"active":{"type":"boolean","title":"Active","default":true}},"type":"object","required":["name","credits"],"title":"CouponTypeCreate"},"CouponTypeResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"credits":{"type":"integer","title":"Credits"},"active":{"type":"boolean","title":"Active","default":true},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","credits","id","created_at","updated_at"],"title":"CouponTypeResponse"},"CouponUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"credits":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Credits"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","title":"CouponUpdate"},"CreateIntegrationRequest":{"properties":{"name":{"type":"string","title":"Name"},"webhook_url":{"type":"string","title":"Webhook Url"},"event_type":{"type":"string","title":"Event Type"}},"type":"object","required":["name","webhook_url","event_type"],"title":"CreateIntegrationRequest"},"CreditTransactionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"amount":{"type":"integer","title":"Amount"},"transaction_type":{"type":"string","title":"Transaction Type"},"payment_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Payment Amount"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"},"payment_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Status"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["id","amount","transaction_type","timestamp"],"title":"CreditTransactionResponse"},"EventTypeCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"points_per_event":{"type":"integer","title":"Points Per Event","default":0}},"type":"object","required":["name"],"title":"EventTypeCreate"},"EventTypeResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"points_per_event":{"type":"integer","title":"Points Per Event","default":0},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"EventTypeResponse"},"GamificationEventCreate":{"properties":{"event_type_id":{"type":"integer","title":"Event Type Id"}},"type":"object","required":["event_type_id"],"title":"GamificationEventCreate"},"GamificationEventResponse":{"properties":{"event_type_id":{"type":"integer","title":"Event Type Id"},"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["event_type_id","id","user_id","session_id","timestamp"],"title":"GamificationEventResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IntegrationCreate":{"properties":{"name":{"type":"string","title":"Name"},"webhook_url":{"type":"string","title":"Webhook Url"},"event_type":{"type":"string","title":"Event Type"}},"type":"object","required":["name","webhook_url","event_type"],"title":"IntegrationCreate"},"PasswordResetConfirm":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordResetConfirm"},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest"},"PaymentMethodCreate":{"properties":{"payment_type":{"type":"string","title":"Payment Type"},"details":{"type":"string","title":"Details"},"is_default":{"type":"boolean","title":"Is Default","default":false}},"type":"object","required":["payment_type","details"],"title":"PaymentMethodCreate"},"PaymentMethodResponse":{"properties":{"id":{"type":"integer","title":"Id"},"payment_type":{"type":"string","title":"Payment Type"},"details":{"type":"string","title":"Details"},"is_default":{"type":"boolean","title":"Is Default"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","payment_type","details","is_default","created_at","updated_at"],"title":"PaymentMethodResponse"},"PaymentProviderCreate":{"properties":{"name":{"type":"string","title":"Name"},"active":{"type":"boolean","title":"Active","default":true}},"type":"object","required":["name"],"title":"PaymentProviderCreate"},"PaymentProviderResponse":{"properties":{"name":{"type":"string","title":"Name"},"active":{"type":"boolean","title":"Active","default":true},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","id"],"title":"PaymentProviderResponse"},"PurchaseRequest":{"properties":{"credits":{"type":"integer","title":"Credits"},"payment_amount":{"type":"number","title":"Payment Amount"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method","default":"stripe"}},"type":"object","required":["credits","payment_amount"],"title":"PurchaseRequest"},"PurchaseResponse":{"properties":{"transaction_id":{"type":"integer","title":"Transaction Id"},"credits_added":{"type":"integer","title":"Credits Added"},"new_balance":{"type":"integer","title":"New Balance"}},"type":"object","required":["transaction_id","credits_added","new_balance"],"title":"PurchaseResponse"},"RankingResponse":{"properties":{"username":{"type":"string","title":"Username"},"points":{"type":"integer","title":"Points"},"badges_count":{"type":"integer","title":"Badges Count"},"user_type":{"type":"string","title":"User Type"}},"type":"object","required":["username","points","badges_count","user_type"],"title":"RankingResponse"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest"},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"ciudad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ciudad"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website"}},"type":"object","required":["email","username","password"],"title":"RegisterRequest"},"SiteSettingResponse":{"properties":{"key":{"type":"string","title":"Key"},"value":{"type":"string","title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"},"id":{"type":"integer","title":"Id"},"updated_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated By"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["key","value","id","updated_at"],"title":"SiteSettingResponse"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","refresh_token","token_type"],"title":"TokenResponse"},"UpdateConfigRequest":{"properties":{"key":{"type":"string","title":"Key"},"value":{"anyOf":[{"type":"object"},{"items":{},"type":"array"},{"type":"integer"},{"type":"string"}],"title":"Value"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["key","value"],"title":"UpdateConfigRequest"},"UpdateProfileRequest":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"ciudad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ciudad"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website"}},"type":"object","title":"UpdateProfileRequest"},"UserGamificationResponse":{"properties":{"points":{"type":"integer","title":"Points"},"badge_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Badge Id"},"event_type_id":{"type":"integer","title":"Event Type Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"event_type":{"$ref":"#/components/schemas/EventTypeResponse"},"badge":{"anyOf":[{"$ref":"#/components/schemas/BadgeResponse"},{"type":"null"}]}},"type":"object","required":["points","badge_id","event_type_id","user_id","session_id","event_type","badge"],"title":"UserGamificationResponse"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"},"rol":{"type":"string","title":"Rol"},"activo":{"type":"boolean","title":"Activo"},"subscription":{"type":"string","title":"Subscription"},"ciudad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ciudad"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website"},"credits":{"type":"integer","title":"Credits"},"create_at":{"type":"string","format":"date-time","title":"Create At"},"last_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Ip"}},"type":"object","required":["id","email","username","rol","activo","subscription","credits","create_at"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/v1/auth/token"}}}}}}

Continuamos con la parte 1: backend

















